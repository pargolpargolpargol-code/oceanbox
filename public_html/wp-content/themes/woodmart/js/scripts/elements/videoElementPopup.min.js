!function(d){woodmartThemeModule.$document.on("wdLoadDropdownsSuccess",function(){woodmartThemeModule.videoElementPopup()}),woodmartThemeModule.wdElementorAddAction("frontend/element_ready/wd_video.default",function(){woodmartThemeModule.videoElementPopup()}),woodmartThemeModule.videoElementPopup=function(){void 0!==d.fn.magnificPopup&&(d(".wd-el-video-btn:not(.wd-el-video-hosted), .wd-el-video-btn-overlay.wd-el-video-lightbox:not(.wd-el-video-hosted), .wd-el-video.wd-action-button:not(.wd-video-hosted) a:not(.wp-block-wd-button), .wd-el-video.wd-action-action_button:not(.wd-video-hosted) a:not(.wp-block-wd-button)").magnificPopup({tClose:woodmart_settings.close,tLoading:woodmart_settings.loading,removalDelay:600,type:"iframe",preloader:!1,fixedContentPos:!0,iframe:{markup:'<div class="wd-popup wd-with-video wd-video-popup"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" allowfullscreen frameborder="0"></iframe></div>',patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?rel=0&autoplay=1&mute=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?transparent=0&autoplay=1&muted=1"}}},callbacks:{beforeOpen:function(){this.wrap.addClass("wd-popup-slide-from-left")}}}),d(".wd-el-video-btn-overlay.wd-el-video-lightbox.wd-el-video-hosted,.wd-el-video-btn.wd-el-video-hosted, .wd-el-video.wd-action-button.wd-video-hosted a:not(.wp-block-wd-button), .wd-el-video.wd-action-action_button.wd-video-hosted a:not(.wp-block-wd-button)").magnificPopup({type:"inline",tClose:woodmart_settings.close,tLoading:woodmart_settings.loading,removalDelay:600,preloader:!1,fixedContentPos:!0,callbacks:{beforeOpen:function(){this.wrap.addClass("wd-popup-slide-from-left")},elementParse:function(e){e=d(e.src).find("video");e.attr("src")||e.attr("src",e.data("lazy-load")),e[0].play()},open:function(){woodmartThemeModule.$document.trigger("wood-images-loaded"),woodmartThemeModule.$window.resize()},close:function(e){var o=d.magnificPopup.instance;d(o.st.el[0]).parents(".wd-el-video").find("video")[0].pause()}}}),d(".wd-el-video.wd-action-button .wp-block-wd-button").off("click").on("click",function(e){e.preventDefault();var e=d(this).parent(),o="";d.magnificPopup.close(),o=e.hasClass("wd-video-hosted")?e.find(".wd-popup.wd-video-popup"):d('<div class="wd-popup mfp-with-anim wd-video-popup"><iframe class="mfp-iframe" src="'+e.data("src")+'" allowfullscreen allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" width="100%" height="100%"></iframe></div>'),d.magnificPopup.open({items:{src:o,type:"inline"},tClose:woodmart_settings.close,tLoading:woodmart_settings.loading,removalDelay:500,preloader:!1,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal"},elementParse:function(e){e=d(e.src).find("video");e.length&&(e.attr("src")||e.attr("src",e.data("lazy-load")),e[0].play())},open:function(){woodmartThemeModule.$document.trigger("wood-images-loaded"),woodmartThemeModule.$window.resize()},close:function(e){var o=d.magnificPopup.instance;void 0!==o.st.el&&(o=d(o.st.el[0]).parents(".wd-el-video").find("video")).length&&o[0].pause()}}})}))},d(document).ready(function(){woodmartThemeModule.videoElementPopup()})}(jQuery);