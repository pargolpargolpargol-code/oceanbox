woodmartThemeModule.beforeSearchcontent=function(){function e(e){var t=e.target.closest("form.searchform");document.querySelectorAll(".wd-dropdown-results.wd-opened").forEach(function(e){var o=e.closest(".wd-search-form, .wd-search-dropdown");o&&(o=o.querySelector("form.searchform"),t&&o===t||c(o,e))})}function t(e){var o=this.closest("form"),t=o.parentNode.querySelector(".wd-dropdown-results");c(o,t)}function r(e){var o=this,n=o.closest("form"),d=n.parentNode.querySelector(".wd-dropdown-results"),e=e.keyCode||e.charCode;0!==o.value.length||8!==e&&46!==e?(o.dispatchEvent(new Event("wdOpenBeforeSearchContent")),setTimeout(function(){var e=!0,o=d.querySelector(".wd-search-history"),t=d.querySelector(".wd-search-requests"),r=d.querySelector(".wd-search-area");(e=o&&0!==o.childElementCount||t&&0!==t.childElementCount||r&&(0!==r.childElementCount||0!==r.textContent.length)?e:!1)&&(d.classList.add("wd-opened"),s(n,"open"))},100)):c(n,d)}var c=function(e,o){o.classList.remove("wd-opened"),s(e,"close"),setTimeout(function(){e.parentNode.classList.remove("wd-searched")},400)},s=function(e,o){e.closest(".wd-search-form.wd-display-form.wd-with-overlay")&&jQuery(".wd-close-side").trigger("wdCloseSideAction",["open"===o?"show":"hide","click"])};document.querySelectorAll("form.searchform").forEach(function(e){var o;e.parentNode.querySelector(".wd-dropdown-results")&&(o=e.querySelector('[type="text"]'),e=e.querySelector(".wd-search-cat > a"),o.addEventListener("focus",r),o.addEventListener("keydown",r),e)&&e.addEventListener("click",t)}),document.addEventListener("click",e,{passive:!0})},window.addEventListener("load",function(){woodmartThemeModule.beforeSearchcontent()});